<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title><: $node.get_column('title') :></title>
	<link rel='stylesheet' type='text/css' href='/css/jet.css'>
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
	<link rel='stylesheet' type='text/css' href='/js/fancytree/skin-win8/ui.fancytree.css'>

</head>
<body>
<h1>Jet Configuration</h1>
<ul>
	<li><a href="config/basetypes">Basetypes</a>
</ul>
<div id="body">
	<div id="tree"></div>
	<div id="bread"></div>
</div>

<script src='http://code.jquery.com/jquery-1.10.0.min.js' type="text/javascript"></script>
<script src='http://code.jquery.com/ui/1.10.3/jquery-ui.min.js' type="text/javascript"></script>
<script src='/js/jquery.cookie.js' type="text/javascript"></script>
<script src="/js/fancytree/jquery.fancytree-all.js"></script>

<script type="text/javascript">
	$(function(){
		// Attach the dynatree widget to an existing <div id="tree"> element
		// and pass the tree options as an argument to the dynatree() function:
		$("#tree").fancytree({
			source: {
				url: "/",
				data: {
					template: "treetop",
				}
			},
			lazyload: function(event, data) {
				var node = data.node;
				data.result = {
					url: node.data.path + '/',
					data: {
						template: "treeview",
					}
				}
			},
			activate: function(event, data) {
				// start "working" flag. e.g. cursor change
				var node = data.node;
				$.ajax({
					url: node.data.path,
					cache: false
				}).done(function( html ) {
					$("#bread").html(html);
				});
				// remove working flag
			}
		});
	});
</script>
</body>
</html>
